{"aid": "40074512", "title": "Show HN: Puck (Visual Editor for React) now supports viewport switching", "url": "https://github.com/measuredco/puck/releases/tag/v0.14.0", "domain": "github.com/measuredco", "votes": 6, "user": "chrisvxd", "posted_at": "2024-04-18 09:48:51", "comments": 0, "source_title": "Release v0.14.0 \u00b7 measuredco/puck", "source_text": "Release v0.14.0 \u00b7 measuredco/puck \u00b7 GitHub\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nmeasuredco / puck Public\n\n  * Notifications\n  * Fork 193\n  * Star 4.2k\n\n# v0.14.0\n\nchrisvxd released this 28 Mar 19:44\n\n\u00b7 34 commits to main since this release\n\nv0.14.0\n\n010921d\n\nPuck v0.14.0 introduces the long awaited viewport switching feature, with\ndrag-and-drop-friendly iframe rendering for full CSS media query support.\n\n## TLDR\n\n  1. Viewport switching: Render your entire Puck preview inside an iframe for full CSS media query support. Override the viewports using the viewports API.\n  2. New field APIs: Array and number fields now accept min/max params, and external fields can now render search filters using the familiar fields API.\n  3. New component label API: Provide a custom label to use as your component name.\n  4. Contentful field package: Easily load your Contentful content into Puck with this pre-configured field.\n  5. Color, accessibility and keyboard improvements: A new 12-tint color palette for improved contrast, amongst various other accessibility fixes.\n\n## Highlights\n\n### \ud83d\udcf1 Viewport switching\n\nPuck now supports viewport switching with full iframe rendering, without\ncompromising the drag-and-drop experience. This was a significant effort that\nrequired patching the underlying drag-and-drop library to support iframes and\nCSS transforms, and introducing a new library for syncing styles between host\nand iframe.\n\nViewports are enabled by default, and can be customized by passing an array to\nthe viewports API.\n\n    \n    \n    import { Puck } from \"@measured/puck\"; export function Editor() { return ( <Puck viewports={[ { width: 1440, height: \"auto\", // Optional height. Can be numeric or \"auto\". Defaults to \"auto\". label: \"My Viewport\", // Optional. Shown in tooltip. icon: <svg />, // Optional. Use lucide-icons to align with Puck UI. }, ]} // ... /> ); }\n\n### \ud83d\udd22 New field APIs\n\nBoth number and array fields now accept min and max parameters, allowing you\nto control the minimum and maximum values (or number of values) for user\ninput. Thanks to @jabba-the-bug and @jperasmus for their contributions.\n\n    \n    \n    const numberField = { type: \"number\", max: 10, };\n\nThe new filterFields API on external fields allows you to render filters that\nare provided to your fetchList method using the familiar fields API.\n\n    \n    \n    const externalField = { type: \"external\", fetchList: async ({ filters }) => { // Query content and apply filters }, filterFields: { rating: { type: \"number\", // Render a number field }, }, },\n\n### \ud83d\udd21 New component label API\n\nCustomize the name of your component with the new label API. Thanks to @bwat-\ndev for contributing this feature.\n\n    \n    \n    const config = { components: { HeadingBlock: { label: \"Heading Block\", render: () => <h1>Hello, World</h1>, }, }, };\n\n### Contentful field package\n\nUse the new field-contentful package to load content out of your Contentful\nspace.\n\nNB An issue occurred publishing @measured/puck-field-contentful@v0.14.0. We\nwill be introducing @measured/puck-field-contentful@v0.14.1 soon to address\nthis.\n\n    \n    \n    import createFieldContentful from \"@measured/puck-field-contentful\"; const config = { components: { Example: { fields: { movie: createFieldContentful(\"movies\", { space: \"my_space\", accessToken: \"abcdefg123456\", }), }, render: ({ data }) => { return <p>{data?.fields.title || \"No data selected\"}</p>; }, }, }, };\n\n## Breaking changes\n\n### iframes are enabled by default\n\nViewport rendering with iframes is enabled by default. If you need to disable\nthis, you can pass iframes={{ enabled: false }} to the Puck component.\n\n## Changelog\n\n### Features\n\n  * add \"name\" prop to componentItem override (45bbceb)\n  * add min and max APIs to array fields (53b7937)\n  * add API to opt-out of iframes (03dd90b)\n  * add Contentful field package (d944288)\n  * add filter fields to ExternalFields (7a55053)\n  * add iframe support (1d0bf57)\n  * add min and max APIs to number fields (4932a6e)\n  * add selectedItem convenience param to usePuck (c1224d0)\n  * add viewport switching (ccf9149)\n  * enable mapping of table rows in external fields (d50c56e)\n  * expose history via usePuck hook (1b907cb)\n  * hide array Add button when array is readOnly (4e27c3f)\n  * improve touch, contrast & keyboard a11y (f975d87)\n  * refine UI for external field modal (6a2afa1)\n  * support custom component labels via the new label param (712fb8e)\n  * update to 12-tint color palette (d43da58)\n  * use InterVariable font (88532fb)\n\n### Bug Fixes\n\n  * avoid FOUC of side bars on mobile (83be956)\n  * correctly infer objectFields type from props (e8991cc)\n  * don't attempt to resolve data if component missing from config (cc7d391)\n  * don't flash nested DropZones on first drag (38c3dc4)\n  * don't unexpectedly show DropZone background (2001fa2)\n  * ensure font loads for ExternalFields (e9bca75)\n  * ensure heading-analyzer updates when content changes (d75df7a)\n  * ensure select and radio fields support read only arrays (cbdf66d)\n  * fix array field when used on root (95280e6)\n  * fix renderDropZone method in editor (2c738dd)\n  * lower opacity of DropZone background to support dark backgrounds (9a5c0b8)\n  * make getItemSummary optional on ExternalFields, as expected (26bc4ff)\n  * only import Puck CSS on editor pages (22a4182)\n  * prevent unexpected field behaviour when pressing \"Enter\" key (bf4f527)\n  * use strict return type for resolveData (777cd3c)\n  * vertically align field icons (fa92436)\n\n## New Contributors\n\n  * @jperasmus made their first contribution in #306\n  * @nguyendhst made their first contribution in #338\n  * @prashanthvdckap made their first contribution in #342\n  * @jabba-the-bug made their first contribution in #341\n  * @mfakhrys made their first contribution in #370\n  * @hjbrand made their first contribution in #368\n  * @bwat-dev made their first contribution in #367\n  * @jonduarte made their first contribution in #375\n\nFull Changelog: v0.13.1...v0.14.0\n\n### Contributors\n\njonduarte, jperasmus, and 6 other contributors\n\n6 people reacted\n\n0 Join discussion\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
