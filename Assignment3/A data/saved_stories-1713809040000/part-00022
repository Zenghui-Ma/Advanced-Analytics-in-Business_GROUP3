{"aid": "40112158", "title": "The Heptagon of Configuration (2019)", "url": "https://matt-rickard.com/heptagon-of-configuration", "domain": "matt-rickard.com", "votes": 1, "user": "adityaathalye", "posted_at": "2024-04-22 07:39:45", "comments": 0, "source_title": "The Heptagon of Configuration", "source_text": "The Heptagon of Configuration\n\n# The Heptagon of Configuration\n\nJan 2, 2019\n\nThe Heptagon of Configuration is a term I'm coining to describe a pattern I've\nobserved in software configuration, where configuration evolves through\nspecific, increasing levels of flexibility and complexity before returning to\nthe restrictive and simple implementation.\n\nHow does the cycle work?\n\nHardcoded values are the simplest configuration - but provide very little\nflexibility. The program surface increases, and with it, the configuration,\nincorporating environment variables* and flags, and when that becomes\ncumbersome, a configuration file encodes the previous.\n\nWhen multiple environments require similar configuration files, a templating\nlanguage is used to eliminate repetition and promote the reuse of templates.\n\nThe templates grow in complexity until nearly every option in the\nconfiguration file is templated - rendering the reusability useless.\n\nA Domain Specific Language (DSL) is invented to promote the reuse of logical\nblocks instead of using an inflexible, static template.\n\nSince the DSL incorporates domain-specific knowledge by definition, every new\nfunction added increases the complexity for the end user. The code eventually\nbecomes unreadable and unmaintainable, and the remaining programs are\nrewritten in Bash. Bash provides ultimate flexibility with a guise of\nreusability.\n\nHowever, the Bash scripts are difficult to prove correctness and rely on\nfragile text manipulation to generate a configuration file or template.\n\nThe most used Bash scripts evolve into new CLIs with hard-coded behavior. The\ncycle continues.\n\nCoincidence?\n\n*Fun fact: Environment variables celebrated their 40th birthday this year.\n\nSubscribe for posts on startups, engineering, and AI\n\n", "frontpage": false}
